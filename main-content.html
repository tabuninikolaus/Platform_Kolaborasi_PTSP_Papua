<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Platform Kolaborasi - Main Content</title>
    <link rel="stylesheet" href="main-content.css" />
  </head>
  <body>
    <!-- Container Utama -->
    <div class="main-container">
      <!-- Sidebar untuk profil pengguna dan channel -->
      <div id="sidebar" class="sidebar">
        <div class="user-profile">
          <img src="#" alt="User Image" id="userImage" />
          <p id="userName">Nama Pengguna</p>
          <button id="logoutBtn">Log out</button>
        </div>
        <div class="channels">
          <h3>CHANNELS</h3>
          <button id="createChannelBtn">Create new channel</button>
          <ul id="channelList">
            <!-- Channel List akan dimuat secara dinamis di sini -->
          </ul>
        </div>
      </div>

      <!-- Area Chat -->
      <div class="chat-container">
        <div class="chat-header">
          <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <h3 id="channelName">Nama Channel</h3>
          <button id="leaveChannelBtn"><p>Leave</p></button>
        </div>
        <div class="chat-box" id="chatBox">
          <!-- Pesan Chat akan dimuat di sini -->
        </div>
        <div class="message-input">
          <input
            type="text"
            id="messageInput"
            placeholder="Masukkan Pesan..."
          />
          <button id="sendBtn">Send</button>
          <button id="fileUploadBtn">Choose a File</button>
        </div>
      </div>
    </div>
    <!-- File send Look -->
    <div
      id="fileUploadContainer"
      class="file-upload-container"
      style="display: none"
    >
      <div class="file-upload-item">
        <div class="file-info">
          <span class="file-name">Nama File</span>
          <span class="file-type-size">MP4 • 26 MB</span>
        </div>
        <div class="upload-status">
          <span class="progress-percentage">0%</span>
          <span class="time-remaining">Tersisa: 2 m</span>
        </div>
        <progress class="upload-progress" value="0" max="100"></progress>
        <div class="upload-actions">
          <button class="cancel-upload">X</button>
        </div>
      </div>
    </div>
    <!-- EYE -->

    <div id="chatBox">
      <!-- Elemen chat lain -->
      <div
        id="fileUploadMessageTemplate"
        class="chat-message file-upload-message"
        style="display: none"
      >
        <div class="file-info">
          <span class="file-name">Nama File</span>
          <span class="file-type-size">MP4 • 26 MB</span>
        </div>
        <div class="upload-status">
          <span class="progress-percentage">0%</span>
          <span class="time-remaining">Tersisa: 2 m</span>
        </div>
        <progress class="upload-progress" value="0" max="100"></progress>
        <div class="upload-actions">
          <button class="cancel-upload">X</button>
        </div>
      </div>
    </div>

    <!-- Progress Barr -->
    <div id="uploadProgressContainer" style="display: none">
      <label>Uploading...</label>
      <progress id="uploadProgressBar" value="0" max="100"></progress>
    </div>

    <!-- Modal untuk input nama channel -->
    <div id="channelInputModal" class="modal">
      <div class="modal-content">
        <span id="closeChannelInputModal" class="close">&times;</span>
        <h2>Buat Channel Baru</h2>
        <input
          type="text"
          id="channelNameInput"
          placeholder="Masukkan nama channel"
        />
        <button id="createChannelConfirmBtn">Buat Channel</button>
      </div>
    </div>
    <!-- Join & Delete Chnl modal -->
    <div id="confirmModal" class="modal">
      <span id="closeModalButton" class="close-button">&times;</span>
      <div class="modal-content">
        <span id="modalMessage"></span>
        <div class="modal-actions">
          <button id="modalConfirmBtn">Yes</button>
          <button id="modalCancelBtn">No</button>
        </div>
      </div>
    </div>
    <!-- Modal Leave Chnl Button -->
    <!-- Modal Konfirmasi untuk Meninggalkan Channel -->
    <div id="leaveChannelConfirmModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" id="closeLeaveModal">&times;</span>
        <p>Apakah kamu yakin ingin meninggalkan channel ini?</p>
        <button id="leaveConfirmBtn">Yes</button>
        <button id="leaveCancelBtn">No</button>
      </div>
    </div>

    <!-- Modal Notifikasi untuk Sukses Meninggalkan Channel -->
    <div id="leaveChannelSuccessModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" id="closeSuccessModal">&times;</span>
        <p>You have successfully left the channel.</p>
        <button id="successOkBtn">OK</button>
      </div>
    </div>

    <!-- Modal Notifikasi untuk Tidak Bisa Meninggalkan Channel Sebagai Pembuat -->
    <div id="creatorCannotLeaveModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" id="closeCreatorModal">&times;</span>
        <p>
          Anda adalah pembuat channel ini dan tidak dapat keluar dari channel.
          Anda dapat menghapusnya jika diperlukan.
        </p>
        <button id="creatorOkBtn">OK</button>
      </div>
    </div>

    <div id="joinChannelModal" class="modal">
      <div class="modal-content">
        <!-- Tombol X untuk menutup modal -->
        <span id="closeJoinModal" class="close-button">&times;</span>
        <h2>Join Channel</h2>
        <p>Apakah kamu yakin ingin bergabung dengan channel ini?</p>
        <button id="joinYes">Yes</button>
        <button id="joinNo">No</button>
      </div>
    </div>
    <!-- Modal konfirmasi hapus pesan -->
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <p>Apakah Anda yakin ingin menghapus pesan ini?</p>
        <button id="confirmDeleteBtn">Yes</button>
        <button id="cancelDeleteBtn">No</button>
      </div>
    </div>

    <!-- Import external JavaScript -->
    <script type="module" src="main-content.js"></script>
    <script type="module">
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("active");
      }
    </script>
  </body>
</html>
